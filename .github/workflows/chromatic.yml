# .github/workflows/chromatic.yml

# name of our action
name: 'Chromatic'
# the event that will trigger the action
on: push

# what the action will do
jobs:
    test:
        # the operating system it will run on
        runs-on: ubuntu-latest
        # the list of steps that the action will go through
        steps:
            - uses: actions/checkout@v1 # checkout, update to latest version
            - run: yarn
            - uses: chromaui/action@v1 # push to chromatic
              # options required for the GitHub chromatic action
              with:
                  projectToken: project-token
                  token: #{{ secrets.GITHUB_TOKEN }}

    test2:
        # the operating system it will run on
        runs-on: ubuntu-latest
        # the list of steps that the action will go through
        steps:
            - uses: actions/checkout@1
            - run: yarn
            - run: yarn test # adds the test command
            - uses: chromaui/action@1 # push to chromaui
              # options required to the GitHub chromatic action
              with:
                  # our project token
                  projectToken: project-token
                  token: ${{ secrets.GITHUB_TOKEN }}
